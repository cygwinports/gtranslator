--- origsrc/gtranslator-2.90.4/configure.ac	2011-05-25 15:16:12.063926700 -0500
+++ src/gtranslator-2.90.4/configure.ac	2011-05-25 15:13:31.000000000 -0500
@@ -117,15 +117,30 @@ AC_MSG_CHECKING([for Win32 platform])
 case "$host" in
   *-*-mingw*|*-*-cygwin*)
     platform_win32=yes
-    AC_CHECK_TOOL(WINDRES, windres)
+    GTR_IMPLIB=-lgtranslator-$GTR_API_VERSION
     ;;
   *)
     platform_win32=no
+    GTR_IMPLIB=
     ;;
 esac
 AC_MSG_RESULT([$platform_win32])
 AM_CONDITIONAL(PLATFORM_WIN32, test "$platform_win32" = "yes")
+AC_SUBST(GTR_IMPLIB)
 
+AC_MSG_CHECKING([for native Win32])
+case "$host" in
+  *-*-mingw*)
+    os_win32=yes
+    AC_CHECK_TOOL(WINDRES, windres)
+    ;;
+  *)
+    os_win32=no
+    ;;
+esac
+AC_MSG_RESULT([$os_win32])
+AM_CONDITIONAL(OS_WIN32, test "$os_win32" = "yes")
+
 
 dnl -----------------------------------
 dnl Plugins libraries compilation flags
@@ -133,7 +148,7 @@ dnl -----------------------------------
 # on win32 plugins must be able to resolve all symbols at link time
 # so we create a lib
 if test "$platform_win32" = yes; then
-	PLUGIN_LIBTOOL_FLAGS="-module -avoid-version -no-undefined -mwindows -Wl,\$(top_builddir)/src/libgtranslator-\$(GTR_API_VERSION).a"
+	PLUGIN_LIBTOOL_FLAGS="-module -avoid-version -no-undefined -Wl,\$(top_builddir)/src/libgtranslator-\$(GTR_API_VERSION).a"
 else
 	PLUGIN_LIBTOOL_FLAGS="-module -avoid-version"
 fi
--- origsrc/gtranslator-2.90.4/data/gtranslator.pc.in	2011-05-25 15:16:12.092928400 -0500
+++ src/gtranslator-2.90.4/data/gtranslator.pc.in	2011-05-25 15:15:55.880001100 -0500
@@ -5,6 +5,7 @@ includedir=@includedir@
 
 Name: gtranslator
 Description: gtranslator
-Requires: libglade-2.0 gtksourceview-2.0
+Requires: gtk+-3.0 gtksourceview-3.0
 Version: @VERSION@
 Cflags: -I${includedir}/gtranslator-@GTR_API_VERSION@
+Libs: -L${libdir} @GTR_IMPLIB@
--- origsrc/gtranslator-2.90.4/src/Makefile.am	2011-05-25 15:16:12.097928700 -0500
+++ src/gtranslator-2.90.4/src/Makefile.am	2011-05-25 15:13:31.000000000 -0500
@@ -38,7 +38,7 @@ gtranslator_LDADD =			\
 	-lgettextpo
 
 if PLATFORM_WIN32
-gtranslator_LDFLAGS = -Wl,--export-all-symbols -mwindows -Wl,--out-implib,libgedit-$(GTR_API_VERSION).a
+gtranslator_LDFLAGS = -Wl,--export-all-symbols -Wl,--out-implib,libgtranslator-$(GTR_API_VERSION).a
 else
 gtranslator_LDFLAGS = -export-dynamic -no-undefined -export-symbols-regex "^[[^_]].*"
 endif
@@ -51,7 +51,7 @@ BUILT_SOURCES = \
 	gtr-enum-types.h \
 	gtr-enum-types.c
 
-if PLATFORM_WIN32
+if OS_WIN32
 gtranslator-res.o: gtranslator.rc
 	$(WINDRES) -i gtranslator.rc --input-format=rc -o gtranslator-res.o -O coff
 
@@ -156,6 +156,12 @@ gtr-marshal.h: gtr-marshal.list $(GLIB_G
 gtr-marshal.c: gtr-marshal.list $(GLIB_GENMARSHAL)
 	$(AM_V_GEN) $(GLIB_GENMARSHAL) $< --body --header --prefix=gtr_marshal > $@
 
+if PLATFORM_WIN32
+install-exec-hook:
+	$(mkinstalldirs) $(DESTDIR)$(libdir)
+	$(INSTALL_DATA) libgtranslator-$(GTR_API_VERSION).a $(DESTDIR)$(libdir)
+endif
+
 EXTRA_DIST =	\
 	gtr-marshal.list	\
 	gtr-enum-types.h.template	\
